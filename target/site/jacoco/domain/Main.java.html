<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Main.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=Ù¤;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">github-inti-demo</a> &gt; <a href="index.source.html" class="el_package">domain</a> &gt; <span class="el_source">Main.java</span></div><h1>Main.java</h1><pre class="source lang-java linenums">package domain;

import java.util.List;
import java.util.Scanner;

<span class="nc" id="L6">public class Main {</span>
<span class="nc" id="L7">    private static Scanner scanner = new Scanner(System.in);</span>
<span class="nc" id="L8">    private static User currentUser = null;</span>
<span class="nc" id="L9">    private static Admin currentAdmin = null;</span>

    public static void main(String[] args) {
        // Initialize database tables
<span class="nc" id="L13">        initializeDatabase();</span>

        // Create a default admin if not exists
<span class="nc" id="L16">        createDefaultAdmin();</span>

<span class="nc" id="L18">        boolean running = true;</span>
<span class="nc bnc" id="L19" title="All 2 branches missed.">        while (running) {</span>
<span class="nc bnc" id="L20" title="All 2 branches missed.">            if (currentUser != null) {</span>
<span class="nc" id="L21">                userMenu();</span>
<span class="nc bnc" id="L22" title="All 2 branches missed.">            } else if (currentAdmin != null) {</span>
<span class="nc" id="L23">                adminMenu();</span>
            } else {
<span class="nc" id="L25">                mainMenu();</span>
            }
        }
<span class="nc" id="L28">    }</span>

    // --- Helper Methods for Safe Input ---

    private static int readInt(Scanner scanner, String prompt) {
        while (true) {
<span class="nc" id="L34">            System.out.print(prompt);</span>
            try {
<span class="nc" id="L36">                return Integer.parseInt(scanner.nextLine());</span>
<span class="nc" id="L37">            } catch (NumberFormatException e) {</span>
<span class="nc" id="L38">                System.out.println(&quot;Invalid input. Please enter a whole number.&quot;);</span>
<span class="nc" id="L39">            }</span>
        }
    }

    private static double readDouble(Scanner scanner, String prompt) {
        while (true) {
<span class="nc" id="L45">            System.out.print(prompt);</span>
            try {
<span class="nc" id="L47">                return Double.parseDouble(scanner.nextLine());</span>
<span class="nc" id="L48">            } catch (NumberFormatException e) {</span>
<span class="nc" id="L49">                System.out.println(&quot;Invalid input. Please enter a valid number.&quot;);</span>
<span class="nc" id="L50">            }</span>
        }
    }

    // --- End Helper Methods ---

    private static void initializeDatabase() {
        // Tables are created automatically in static blocks of each class
<span class="nc" id="L58">        System.out.println(&quot;Database initialized successfully.&quot;);</span>
<span class="nc" id="L59">    }</span>

    private static void createDefaultAdmin() {
<span class="nc" id="L62">        Admin admin = Admin.login(&quot;admin&quot;, &quot;admin123&quot;);</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">        if (admin == null) {</span>
<span class="nc" id="L64">            Admin.register(&quot;admin&quot;, &quot;admin123&quot;);</span>
<span class="nc" id="L65">            System.out.println(&quot;Default admin created (username: admin, password: admin123)&quot;);</span>
        }
<span class="nc" id="L67">    }</span>

    private static void mainMenu() {
<span class="nc" id="L70">        System.out.println(&quot;\n=== Library Management System ===&quot;);</span>
<span class="nc" id="L71">        System.out.println(&quot;1. User Login&quot;);</span>
<span class="nc" id="L72">        System.out.println(&quot;2. User Registration&quot;);</span>
<span class="nc" id="L73">        System.out.println(&quot;3. Admin Login&quot;);</span>
<span class="nc" id="L74">        System.out.println(&quot;4. Exit&quot;);</span>
<span class="nc" id="L75">        int choice = readInt(scanner, &quot;Select an option: &quot;);</span>

<span class="nc bnc" id="L77" title="All 5 branches missed.">        switch (choice) {</span>
            case 1:
<span class="nc" id="L79">                userLogin();</span>
<span class="nc" id="L80">                break;</span>
            case 2:
<span class="nc" id="L82">                userRegistration();</span>
<span class="nc" id="L83">                break;</span>
            case 3:
<span class="nc" id="L85">                adminLogin();</span>
<span class="nc" id="L86">                break;</span>
            case 4:
<span class="nc" id="L88">                System.out.println(&quot;Exiting system...&quot;);</span>
<span class="nc" id="L89">                System.exit(0);</span>
<span class="nc" id="L90">                break;</span>
            default:
<span class="nc" id="L92">                System.out.println(&quot;Invalid option!&quot;);</span>
        }
<span class="nc" id="L94">    }</span>

    private static void userLogin() {
<span class="nc" id="L97">        System.out.println(&quot;\n=== User Login ===&quot;);</span>
<span class="nc" id="L98">        System.out.print(&quot;Username: &quot;);</span>
<span class="nc" id="L99">        String username = scanner.nextLine();</span>
<span class="nc" id="L100">        System.out.print(&quot;Password: &quot;);</span>
<span class="nc" id="L101">        String password = scanner.nextLine();</span>

<span class="nc" id="L103">        User user = User.login(username, password);</span>
<span class="nc bnc" id="L104" title="All 2 branches missed.">        if (user != null) {</span>
<span class="nc" id="L105">            currentUser = new Borrower(username, user.getPasswordHash(), user.getPasswordHash());</span>
<span class="nc" id="L106">            currentUser.setLoggedIn(true);</span>
<span class="nc" id="L107">            System.out.println(&quot;Login successful! Welcome, &quot; + username);</span>
        } else {
<span class="nc" id="L109">            System.out.println(&quot;Invalid username or password!&quot;);</span>
        }
<span class="nc" id="L111">    }</span>

    private static void userRegistration() {
<span class="nc" id="L114">        System.out.println(&quot;\n=== User Registration ===&quot;);</span>
<span class="nc" id="L115">        System.out.print(&quot;Username: &quot;);</span>
<span class="nc" id="L116">        String username = scanner.nextLine();</span>
<span class="nc" id="L117">        System.out.print(&quot;Password: &quot;);</span>
<span class="nc" id="L118">        String password = scanner.nextLine();</span>

<span class="nc" id="L120">        User user = User.register(username, password);</span>
<span class="nc bnc" id="L121" title="All 2 branches missed.">        if (user != null) {</span>
<span class="nc" id="L122">            System.out.println(&quot;Registration successful! You can now login.&quot;);</span>
        } else {
<span class="nc" id="L124">            System.out.println(&quot;Registration failed! Username might already exist.&quot;);</span>
        }
<span class="nc" id="L126">    }</span>

    private static void adminLogin() {
<span class="nc" id="L129">        System.out.println(&quot;\n=== Admin Login ===&quot;);</span>
<span class="nc" id="L130">        System.out.print(&quot;Username: &quot;);</span>
<span class="nc" id="L131">        String username = scanner.nextLine();</span>
<span class="nc" id="L132">        System.out.print(&quot;Password: &quot;);</span>
<span class="nc" id="L133">        String password = scanner.nextLine();</span>

<span class="nc" id="L135">        Admin admin = Admin.login(username, password);</span>
<span class="nc bnc" id="L136" title="All 2 branches missed.">        if (admin != null) {</span>
<span class="nc" id="L137">            currentAdmin = admin;</span>
<span class="nc" id="L138">            currentAdmin.setLoggedIn(true);</span>
<span class="nc" id="L139">            System.out.println(&quot;Admin login successful! Welcome, &quot; + username);</span>
        } else {
<span class="nc" id="L141">            System.out.println(&quot;Invalid admin credentials!&quot;);</span>
        }
<span class="nc" id="L143">    }</span>

    private static void userMenu() {
<span class="nc" id="L146">        System.out.println(&quot;\n=== User Menu ===&quot;);</span>
<span class="nc" id="L147">        System.out.println(&quot;1. View Available Books&quot;);</span>
<span class="nc" id="L148">        System.out.println(&quot;2. View Available CDs&quot;);</span>
<span class="nc" id="L149">        System.out.println(&quot;3. Borrow Media&quot;);</span>
<span class="nc" id="L150">        System.out.println(&quot;4. Return Media&quot;);</span>
<span class="nc" id="L151">        System.out.println(&quot;5. View Borrowed Media&quot;);</span>
<span class="nc" id="L152">        System.out.println(&quot;6. View Overdue Report&quot;);</span>
<span class="nc" id="L153">        System.out.println(&quot;7. Pay Fine&quot;);</span>
<span class="nc" id="L154">        System.out.println(&quot;8. Logout&quot;);</span>
<span class="nc" id="L155">        int choice = readInt(scanner, &quot;Select an option: &quot;);</span>

<span class="nc bnc" id="L157" title="All 9 branches missed.">        switch (choice) {</span>
            case 1:
<span class="nc" id="L159">                viewAvailableBooks();</span>
<span class="nc" id="L160">                break;</span>
            case 2:
<span class="nc" id="L162">                viewAvailableCDs();</span>
<span class="nc" id="L163">                break;</span>
            case 3:
<span class="nc" id="L165">                borrowMedia();</span>
<span class="nc" id="L166">                break;</span>
            case 4:
<span class="nc" id="L168">                returnMedia();</span>
<span class="nc" id="L169">                break;</span>
            case 5:
<span class="nc" id="L171">                viewBorrowedMedia();</span>
<span class="nc" id="L172">                break;</span>
            case 6:
<span class="nc" id="L174">                viewOverdueReport();</span>
<span class="nc" id="L175">                break;</span>
            case 7:
<span class="nc" id="L177">                payFine();</span>
<span class="nc" id="L178">                break;</span>
            case 8:
<span class="nc" id="L180">                currentUser.logout();</span>
<span class="nc" id="L181">                currentUser = null;</span>
<span class="nc" id="L182">                break;</span>
            default:
<span class="nc" id="L184">                System.out.println(&quot;Invalid option!&quot;);</span>
        }
<span class="nc" id="L186">    }</span>

    private static void viewAvailableBooks() {
<span class="nc" id="L189">        System.out.println(&quot;\n=== Available Books ===&quot;);</span>
<span class="nc" id="L190">        List&lt;Book&gt; books = Book.getAllBooks();</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">        for (Book book : books) {</span>
<span class="nc bnc" id="L192" title="All 2 branches missed.">            if (book.isAvailable()) {</span>
<span class="nc" id="L193">                System.out.println(book);</span>
            }
<span class="nc" id="L195">        }</span>
<span class="nc" id="L196">    }</span>

    private static void viewAvailableCDs() {
<span class="nc" id="L199">        System.out.println(&quot;\n=== Available CDs ===&quot;);</span>
<span class="nc" id="L200">        List&lt;CD&gt; cds = CD.getAllCDs();</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">        for (CD cd : cds) {</span>
<span class="nc bnc" id="L202" title="All 2 branches missed.">            if (cd.isAvailable()) {</span>
<span class="nc" id="L203">                System.out.println(cd);</span>
            }
<span class="nc" id="L205">        }</span>
<span class="nc" id="L206">    }</span>

    private static void borrowMedia() {
<span class="nc" id="L209">        System.out.println(&quot;\n=== Borrow Media ===&quot;);</span>
<span class="nc" id="L210">        int mediaType = readInt(scanner, &quot;1. Borrow Book\n2. Borrow CD\nSelect media type: &quot;);</span>
<span class="nc" id="L211">        int mediaId = readInt(scanner, &quot;Enter media ID: &quot;);</span>

<span class="nc" id="L213">        Media media = null;</span>
<span class="nc bnc" id="L214" title="All 2 branches missed.">        if (mediaType == 1) {</span>
<span class="nc" id="L215">            List&lt;Book&gt; books = Book.getAllBooks();</span>
<span class="nc bnc" id="L216" title="All 2 branches missed.">            for (Book book : books) {</span>
<span class="nc bnc" id="L217" title="All 2 branches missed.">                if (book.getId() == mediaId) {</span>
<span class="nc" id="L218">                    media = book;</span>
<span class="nc" id="L219">                    break;</span>
                }
<span class="nc" id="L221">            }</span>
<span class="nc bnc" id="L222" title="All 2 branches missed.">        } else if (mediaType == 2) {</span>
<span class="nc" id="L223">            List&lt;CD&gt; cds = CD.getAllCDs();</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">            for (CD cd : cds) {</span>
<span class="nc bnc" id="L225" title="All 2 branches missed.">                if (cd.getId() == mediaId) {</span>
<span class="nc" id="L226">                    media = cd;</span>
<span class="nc" id="L227">                    break;</span>
                }
<span class="nc" id="L229">            }</span>
        }

<span class="nc bnc" id="L232" title="All 2 branches missed.">        if (media != null) {</span>
<span class="nc" id="L233">            Borrower borrower = (Borrower) currentUser;</span>
<span class="nc" id="L234">            BorrowingService.borrowMedia(borrower, media);</span>
<span class="nc" id="L235">        } else {</span>
<span class="nc" id="L236">            System.out.println(&quot;Media not found!&quot;);</span>
        }
<span class="nc" id="L238">    }</span>

    private static void returnMedia() {
<span class="nc" id="L241">        System.out.println(&quot;\n=== Return Media ===&quot;);</span>
<span class="nc" id="L242">        int mediaId = readInt(scanner, &quot;Enter media ID: &quot;);</span>

<span class="nc" id="L244">        Media media = null;</span>
<span class="nc" id="L245">        List&lt;Book&gt; books = Book.getAllBooks();</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">        for (Book book : books) {</span>
<span class="nc bnc" id="L247" title="All 2 branches missed.">            if (book.getId() == mediaId) {</span>
<span class="nc" id="L248">                media = book;</span>
<span class="nc" id="L249">                break;</span>
            }
<span class="nc" id="L251">        }</span>

<span class="nc bnc" id="L253" title="All 2 branches missed.">        if (media == null) {</span>
<span class="nc" id="L254">            List&lt;CD&gt; cds = CD.getAllCDs();</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">            for (CD cd : cds) {</span>
<span class="nc bnc" id="L256" title="All 2 branches missed.">                if (cd.getId() == mediaId) {</span>
<span class="nc" id="L257">                    media = cd;</span>
<span class="nc" id="L258">                    break;</span>
                }
<span class="nc" id="L260">            }</span>
        }

<span class="nc bnc" id="L263" title="All 2 branches missed.">        if (media != null) {</span>
<span class="nc" id="L264">            Borrower borrower = (Borrower) currentUser;</span>
<span class="nc" id="L265">            BorrowingService.returnMedia(borrower, media);</span>
<span class="nc" id="L266">        } else {</span>
<span class="nc" id="L267">            System.out.println(&quot;Media not found!&quot;);</span>
        }
<span class="nc" id="L269">    }</span>

    private static void viewBorrowedMedia() {
<span class="nc" id="L272">        System.out.println(&quot;\n=== Borrowed Media ===&quot;);</span>
<span class="nc" id="L273">        Borrower borrower = (Borrower) currentUser;</span>
<span class="nc" id="L274">        List&lt;Borrower.MediaRecord&gt; borrowedMedia = borrower.getBorrowedMedia();</span>

<span class="nc bnc" id="L276" title="All 2 branches missed.">        if (borrowedMedia.isEmpty()) {</span>
<span class="nc" id="L277">            System.out.println(&quot;You haven't borrowed any media.&quot;);</span>
        } else {
<span class="nc bnc" id="L279" title="All 2 branches missed.">            for (Borrower.MediaRecord record : borrowedMedia) {</span>
<span class="nc" id="L280">                Media media = record.getMedia();</span>
<span class="nc" id="L281">                System.out.println(media + &quot;, Due Date: &quot; + record.getDueDate());</span>
<span class="nc" id="L282">            }</span>
        }
<span class="nc" id="L284">    }</span>

    private static void viewOverdueReport() {
<span class="nc" id="L287">        System.out.println(&quot;\n=== Overdue Report ===&quot;);</span>
<span class="nc" id="L288">        Borrower borrower = (Borrower) currentUser;</span>
<span class="nc" id="L289">        borrower.generateOverdueReport();</span>
<span class="nc" id="L290">    }</span>

    private static void payFine() {
<span class="nc" id="L293">        System.out.println(&quot;\n=== Pay Fine ===&quot;);</span>
<span class="nc" id="L294">        Borrower borrower = (Borrower) currentUser;</span>
<span class="nc" id="L295">        System.out.println(&quot;Current fine balance: &quot; + borrower.getFineBalance());</span>
<span class="nc" id="L296">        double amount = readDouble(scanner, &quot;Enter amount to pay: &quot;);</span>
<span class="nc" id="L297">        borrower.payFine(amount);</span>
<span class="nc" id="L298">    }</span>

    private static void adminMenu() {
<span class="nc" id="L301">        System.out.println(&quot;\n=== Admin Menu ===&quot;);</span>
<span class="nc" id="L302">        System.out.println(&quot;1. Add Book&quot;);</span>
<span class="nc" id="L303">        System.out.println(&quot;2. Add CD&quot;);</span>
<span class="nc" id="L304">        System.out.println(&quot;3. View All Books&quot;);</span>
<span class="nc" id="L305">        System.out.println(&quot;4. View All CDs&quot;);</span>
<span class="nc" id="L306">        System.out.println(&quot;5. Send Overdue Reminders&quot;);</span>
<span class="nc" id="L307">        System.out.println(&quot;6. Unregister User&quot;);</span>
<span class="nc" id="L308">        System.out.println(&quot;7. View Users with Overdue Books&quot;);</span>
<span class="nc" id="L309">        System.out.println(&quot;8. Logout&quot;);</span>
<span class="nc" id="L310">        int choice = readInt(scanner, &quot;Select an option: &quot;);</span>

<span class="nc bnc" id="L312" title="All 9 branches missed.">        switch (choice) {</span>
            case 1:
<span class="nc" id="L314">                addBook();</span>
<span class="nc" id="L315">                break;</span>
            case 2:
<span class="nc" id="L317">                addCD();</span>
<span class="nc" id="L318">                break;</span>
            case 3:
<span class="nc" id="L320">                viewAllBooks();</span>
<span class="nc" id="L321">                break;</span>
            case 4:
<span class="nc" id="L323">                viewAllCDs();</span>
<span class="nc" id="L324">                break;</span>
            case 5:
<span class="nc" id="L326">                sendOverdueReminders();</span>
<span class="nc" id="L327">                break;</span>
            case 6:
<span class="nc" id="L329">                unregisterUser();</span>
<span class="nc" id="L330">                break;</span>
            case 7:
<span class="nc" id="L332">                viewUsersWithOverdueBooks();</span>
<span class="nc" id="L333">                break;</span>
            case 8:
<span class="nc" id="L335">                currentAdmin.logout();</span>
<span class="nc" id="L336">                currentAdmin = null;</span>
<span class="nc" id="L337">                break;</span>
            default:
<span class="nc" id="L339">                System.out.println(&quot;Invalid option!&quot;);</span>
        }
<span class="nc" id="L341">    }</span>

    private static void addBook() {
<span class="nc" id="L344">        System.out.println(&quot;\n=== Add Book ===&quot;);</span>
<span class="nc" id="L345">        System.out.print(&quot;Title: &quot;);</span>
<span class="nc" id="L346">        String title = scanner.nextLine();</span>
<span class="nc" id="L347">        System.out.print(&quot;Author: &quot;);</span>
<span class="nc" id="L348">        String author = scanner.nextLine();</span>
<span class="nc" id="L349">        System.out.print(&quot;ISBN: &quot;);</span>
<span class="nc" id="L350">        String isbn = scanner.nextLine();</span>

<span class="nc" id="L352">        Book book = Book.addBook(title, author, isbn);</span>
<span class="nc bnc" id="L353" title="All 2 branches missed.">        if (book != null) {</span>
<span class="nc" id="L354">            System.out.println(&quot;Book added successfully!&quot;);</span>
        } else {
<span class="nc" id="L356">            System.out.println(&quot;Failed to add book!&quot;);</span>
        }
<span class="nc" id="L358">    }</span>

    private static void addCD() {
<span class="nc" id="L361">        System.out.println(&quot;\n=== Add CD ===&quot;);</span>
<span class="nc" id="L362">        System.out.print(&quot;Title: &quot;);</span>
<span class="nc" id="L363">        String title = scanner.nextLine();</span>
<span class="nc" id="L364">        System.out.print(&quot;Artist: &quot;);</span>
<span class="nc" id="L365">        String artist = scanner.nextLine();</span>
<span class="nc" id="L366">        System.out.print(&quot;Genre: &quot;);</span>
<span class="nc" id="L367">        String genre = scanner.nextLine();</span>
<span class="nc" id="L368">        int duration = readInt(scanner, &quot;Duration (minutes): &quot;);</span>

<span class="nc" id="L370">        CD cd = CD.addCD(title, artist, genre, duration);</span>
<span class="nc bnc" id="L371" title="All 2 branches missed.">        if (cd != null) {</span>
<span class="nc" id="L372">            System.out.println(&quot;CD added successfully!&quot;);</span>
        } else {
<span class="nc" id="L374">            System.out.println(&quot;Failed to add CD!&quot;);</span>
        }
<span class="nc" id="L376">    }</span>

    private static void viewAllBooks() {
<span class="nc" id="L379">        System.out.println(&quot;\n=== All Books ===&quot;);</span>
<span class="nc" id="L380">        List&lt;Book&gt; books = Book.getAllBooks();</span>
<span class="nc bnc" id="L381" title="All 2 branches missed.">        for (Book book : books) {</span>
<span class="nc" id="L382">            System.out.println(book);</span>
<span class="nc" id="L383">        }</span>
<span class="nc" id="L384">    }</span>

    private static void viewAllCDs() {
<span class="nc" id="L387">        System.out.println(&quot;\n=== All CDs ===&quot;);</span>
<span class="nc" id="L388">        List&lt;CD&gt; cds = CD.getAllCDs();</span>
<span class="nc bnc" id="L389" title="All 2 branches missed.">        for (CD cd : cds) {</span>
<span class="nc" id="L390">            System.out.println(cd);</span>
<span class="nc" id="L391">        }</span>
<span class="nc" id="L392">    }</span>

    private static void sendOverdueReminders() {
<span class="nc" id="L395">        System.out.println(&quot;\n=== Send Overdue Reminders ===&quot;);</span>
<span class="nc" id="L396">        Admin.sendOverdueReminders();</span>
<span class="nc" id="L397">        System.out.println(&quot;Reminders sent successfully!&quot;);</span>

<span class="nc" id="L399">        List&lt;EmailServer.Email&gt; sentEmails = Admin.getEmailServer().getSentEmails();</span>
<span class="nc" id="L400">        System.out.println(&quot;Sent &quot; + sentEmails.size() + &quot; email(s):&quot;);</span>
<span class="nc bnc" id="L401" title="All 2 branches missed.">        for (EmailServer.Email email : sentEmails) {</span>
<span class="nc" id="L402">            System.out.println(&quot;To: &quot; + email.getTo());</span>
<span class="nc" id="L403">            System.out.println(&quot;Subject: &quot; + email.getSubject());</span>
<span class="nc" id="L404">            System.out.println(&quot;Body: &quot; + email.getBody());</span>
<span class="nc" id="L405">            System.out.println(&quot;---&quot;);</span>
<span class="nc" id="L406">        }</span>
<span class="nc" id="L407">    }</span>

    private static void unregisterUser() {
<span class="nc" id="L410">        System.out.println(&quot;\n=== Unregister User ===&quot;);</span>
<span class="nc" id="L411">        System.out.print(&quot;Enter username to unregister: &quot;);</span>
<span class="nc" id="L412">        String username = scanner.nextLine();</span>

<span class="nc" id="L414">        boolean success = Admin.unregisterUser(username);</span>
<span class="nc bnc" id="L415" title="All 2 branches missed.">        if (success) {</span>
<span class="nc" id="L416">            System.out.println(&quot;User unregistered successfully!&quot;);</span>
        } else {
<span class="nc" id="L418">            System.out.println(&quot;Failed to unregister user!&quot;);</span>
        }
<span class="nc" id="L420">    }</span>

    private static void viewUsersWithOverdueBooks() {
<span class="nc" id="L423">        System.out.println(&quot;\n=== Users with Overdue Books ===&quot;);</span>
<span class="nc" id="L424">        List&lt;Borrower.UserWithOverdueBooks&gt; usersWithOverdueBooks = Borrower.getUsersWithOverdueBooks();</span>

<span class="nc bnc" id="L426" title="All 2 branches missed.">        if (usersWithOverdueBooks.isEmpty()) {</span>
<span class="nc" id="L427">            System.out.println(&quot;No users with overdue books.&quot;);</span>
        } else {
<span class="nc bnc" id="L429" title="All 2 branches missed.">            for (Borrower.UserWithOverdueBooks user : usersWithOverdueBooks) {</span>
<span class="nc" id="L430">                System.out.println(&quot;Username: &quot; + user.getUsername() +</span>
<span class="nc" id="L431">                        &quot;, Overdue Books: &quot; + user.getOverdueCount());</span>
<span class="nc" id="L432">            }</span>
        }
<span class="nc" id="L434">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>